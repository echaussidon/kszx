rule all:
    input:
        "data/randoms_with_act_ivar.h5"

rule download_act:
    output:
        "data/touchfile_download_act"
    shell:
        "python -m kszx download_act 5 && touch {output}"

rule download_sdss:
    output:
        "data/touchfile_download_sdss"
    shell:
        "python -m kszx download_sdss CMASS_North && touch {output}"

rule eval_act_ivar_on_sdss_randoms:
    input:
        "data/touchfile_download_act",
        "data/touchfile_download_sdss"
    output:
        "data/randoms_with_act_ivar.h5"
    run:
        import local_pipeline
        local_pipeline.eval_act_ivar_on_sdss_randoms()
        
